{
  "openapi": "3.0.3",
  "info": {
    "title": "AdminRadius Infrastructure Service API",
    "description": "API for managing network infrastructure including devices, ports, connections, and topologies. This service provides comprehensive endpoints for CRUD operations on network components and their relationships.",
    "version": "1.0.0",
    "contact": {
      "name": "AdminRadius Team",
      "email": "support@adminradius.com"
    },
    "license": {
      "name": "Proprietary",
      "url": "https://adminradius.com/license"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8014",
      "description": "Local development server"
    },
    {
      "url": "{protocol}://{host}:{port}",
      "description": "Configurable server",
      "variables": {
        "protocol": {
          "default": "http",
          "enum": ["http", "https"]
        },
        "host": {
          "default": "localhost"
        },
        "port": {
          "default": "8014"
        }
      }
    }
  ],
  "tags": [
    {
      "name": "Device",
      "description": "Device management operations - Create, read, update, and delete network devices"
    },
    {
      "name": "Device Type",
      "description": "Device type management - Define and manage types of network devices (e.g., Router, Switch, Firewall)"
    },
    {
      "name": "Device Port",
      "description": "Device port management - Manage physical and logical ports on network devices"
    },
    {
      "name": "Device Port Specification",
      "description": "Port specification management - Define technical specifications for different port types"
    },
    {
      "name": "Device Port Interface",
      "description": "Port interface management - Define interface types (e.g., GigabitEthernet, 10GigabitEthernet)"
    },
    {
      "name": "Device Connection",
      "description": "Connection management - Manage connections between device ports"
    },
    {
      "name": "Branch Topology",
      "description": "Network topology operations - Retrieve complete network topology information for branches"
    },
    {
      "name": "OpenVPN Server",
      "description": "OpenVPN server management - Configure and manage OpenVPN servers with certificates and authentication"
    },
    {
      "name": "OpenVPN Client",
      "description": "OpenVPN client management - Create and manage OpenVPN client certificates for VPN connections"
    },
    {
      "name": "Device OpenVPN Client",
      "description": "Device OpenVPN client assignment - Associate devices with OpenVPN clients (only Router type devices)"
    }
  ],
  "paths": {
    "/branch/{branch_id}/devices": {
      "$ref": "./group_device.json#/paths/~1api-infra~1branch~1{branch_id}~1devices"
    },
    "/branch/{branch_id}/device": {
      "$ref": "./group_device.json#/paths/~1api-infra~1branch~1{branch_id}~1device"
    },
    "/branch/{branch_id}/device/{device_id}": {
      "$ref": "./group_device.json#/paths/~1api-infra~1branch~1{branch_id}~1device~1{device_id}"
    },
    "/device-types": {
      "$ref": "./group_device_type.json#/paths/~1api-infra~1device-types"
    },
    "/device-type": {
      "$ref": "./group_device_type.json#/paths/~1api-infra~1device-type"
    },
    "/device-type/{id}": {
      "$ref": "./group_device_type.json#/paths/~1api-infra~1device-type~1{id}"
    },
    "/device/{device_id}/ports": {
      "$ref": "./group_device_port.json#/paths/~1api-infra~1device~1{device_id}~1ports"
    },
    "/device/{device_id}/port": {
      "$ref": "./group_device_port.json#/paths/~1api-infra~1device~1{device_id}~1port"
    },
    "/device/{device_id}/port/{port_id}": {
      "$ref": "./group_device_port.json#/paths/~1api-infra~1device~1{device_id}~1port~1{port_id}"
    },
    "/device-port-specifications": {
      "$ref": "./group_device_port_specification.json#/paths/~1api-infra~1device-port-specifications"
    },
    "/device-port-specification": {
      "$ref": "./group_device_port_specification.json#/paths/~1api-infra~1device-port-specification"
    },
    "/device-port-specification/{id}": {
      "$ref": "./group_device_port_specification.json#/paths/~1api-infra~1device-port-specification~1{id}"
    },
    "/device-port-interfaces": {
      "$ref": "./group_device_port_interface.json#/paths/~1api-infra~1device-port-interfaces"
    },
    "/device-port-interface": {
      "$ref": "./group_device_port_interface.json#/paths/~1api-infra~1device-port-interface"
    },
    "/device-port-interface/{id}": {
      "$ref": "./group_device_port_interface.json#/paths/~1api-infra~1device-port-interface~1{id}"
    },
    "/device/{device_id}/connections": {
      "$ref": "./group_device_connection.json#/paths/~1api-infra~1device~1{device_id}~1connections"
    },
    "/device/{device_id}/connection": {
      "$ref": "./group_device_connection.json#/paths/~1api-infra~1device~1{device_id}~1connection"
    },
    "/device/{device_id}/connection/{connection_id}": {
      "$ref": "./group_device_connection.json#/paths/~1api-infra~1device~1{device_id}~1connection~1{connection_id}"
    },
    "/branch/{branch_id}/topologies": {
      "$ref": "./group_branch_topology.json#/paths/~1api-infra~1branch~1{branch_id}~1topologies"
    },
    "/openvpn-servers": {
      "$ref": "./group_openvpn_server.json#/paths/~1api-infra~1openvpn-servers"
    },
    "/openvpn-server": {
      "$ref": "./group_openvpn_server.json#/paths/~1api-infra~1openvpn-server"
    },
    "/openvpn-server/{id}": {
      "$ref": "./group_openvpn_server.json#/paths/~1api-infra~1openvpn-server~1{id}"
    },
    "/openvpn-server/{openvpn_server_id}/clients": {
      "$ref": "./group_openvpn_client.json#/paths/~1api-infra~1openvpn-server~1{openvpn_server_id}~1clients"
    },
    "/openvpn-server/{openvpn_server_id}/client": {
      "$ref": "./group_openvpn_client.json#/paths/~1api-infra~1openvpn-server~1{openvpn_server_id}~1client"
    },
    "/openvpn-client/{id}": {
      "$ref": "./group_openvpn_client.json#/paths/~1api-infra~1openvpn-client~1{id}"
    },
    "/device/{device_id}/openvpn-client/{openvpn_client_id}": {
      "$ref": "./group_device_openvpn_client.json#/paths/~1api-infra~1device~1{device_id}~1openvpn-client~1{openvpn_client_id}"
    }
  },
  "components": {
    "responses": {
      "BadRequest": {
        "description": "Bad Request - Invalid input parameters or validation errors",
        "headers": {
          "x-request-id": {
            "schema": {
              "type": "string"
            },
            "description": "Request identifier for tracing"
          }
        },
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Bad Request"
                    }
                  }
                },
                "request_id": {
                  "type": "string",
                  "nullable": true,
                  "example": "req_abc123xyz"
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["name is required", "device_type_id must be a valid UUID"]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized - Authentication required or invalid credentials",
        "headers": {
          "x-request-id": {
            "schema": {
              "type": "string"
            },
            "description": "Request identifier for tracing"
          }
        },
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "request_id": {
                  "type": "string",
                  "nullable": true,
                  "example": "req_abc123xyz"
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Authentication required"]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "Forbidden - Insufficient permissions",
        "headers": {
          "x-request-id": {
            "schema": {
              "type": "string"
            },
            "description": "Request identifier for tracing"
          }
        },
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "message": {
                      "type": "string",
                      "example": "Forbidden"
                    }
                  }
                },
                "request_id": {
                  "type": "string",
                  "nullable": true,
                  "example": "req_abc123xyz"
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Insufficient permissions"]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "Not Found - Resource does not exist",
        "headers": {
          "x-request-id": {
            "schema": {
              "type": "string"
            },
            "description": "Request identifier for tracing"
          }
        },
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "example": "Not Found"
                    }
                  }
                },
                "request_id": {
                  "type": "string",
                  "nullable": true,
                  "example": "req_abc123xyz"
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Resource not found"]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal Server Error - An unexpected error occurred",
        "headers": {
          "x-request-id": {
            "schema": {
              "type": "string"
            },
            "description": "Request identifier for tracing"
          }
        },
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal Server Error"
                    }
                  }
                },
                "request_id": {
                  "type": "string",
                  "nullable": true,
                  "example": "req_abc123xyz"
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["An internal error occurred"]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "schemas": {
      "Device": {
        "$ref": "./group_device.json#/components/schemas/Device"
      },
      "DeviceType": {
        "$ref": "./group_device.json#/components/schemas/DeviceType"
      },
      "DeviceCreateRequest": {
        "$ref": "./group_device.json#/components/schemas/DeviceCreateRequest"
      },
      "DeviceUpdateRequest": {
        "$ref": "./group_device.json#/components/schemas/DeviceUpdateRequest"
      },
      "DeviceTypeEntity": {
        "$ref": "./group_device_type.json#/components/schemas/DeviceType"
      },
      "DeviceTypeCreateRequest": {
        "$ref": "./group_device_type.json#/components/schemas/DeviceTypeCreateRequest"
      },
      "DeviceTypeUpdateRequest": {
        "$ref": "./group_device_type.json#/components/schemas/DeviceTypeUpdateRequest"
      },
      "DevicePort": {
        "$ref": "./group_device_port.json#/components/schemas/DevicePort"
      },
      "DevicePortCreateRequest": {
        "$ref": "./group_device_port.json#/components/schemas/DevicePortCreateRequest"
      },
      "DevicePortUpdateRequest": {
        "$ref": "./group_device_port.json#/components/schemas/DevicePortUpdateRequest"
      },
      "DevicePortSpecification": {
        "$ref": "./group_device_port_specification.json#/components/schemas/DevicePortSpecification"
      },
      "DevicePortSpecificationCreateRequest": {
        "$ref": "./group_device_port_specification.json#/components/schemas/DevicePortSpecificationCreateRequest"
      },
      "DevicePortSpecificationUpdateRequest": {
        "$ref": "./group_device_port_specification.json#/components/schemas/DevicePortSpecificationUpdateRequest"
      },
      "DevicePortInterface": {
        "$ref": "./group_device_port_interface.json#/components/schemas/DevicePortInterface"
      },
      "DevicePortInterfaceCreateRequest": {
        "$ref": "./group_device_port_interface.json#/components/schemas/DevicePortInterfaceCreateRequest"
      },
      "DevicePortInterfaceUpdateRequest": {
        "$ref": "./group_device_port_interface.json#/components/schemas/DevicePortInterfaceUpdateRequest"
      },
      "DeviceConnection": {
        "$ref": "./group_device_connection.json#/components/schemas/DeviceConnection"
      },
      "DeviceConnectionCreateRequest": {
        "$ref": "./group_device_connection.json#/components/schemas/DeviceConnectionCreateRequest"
      },
      "DeviceConnectionUpdateRequest": {
        "$ref": "./group_device_connection.json#/components/schemas/DeviceConnectionUpdateRequest"
      },
      "OpenvpnServer": {
        "$ref": "./group_openvpn_server.json#/components/schemas/OpenvpnServer"
      },
      "OpenvpnServerCreateRequest": {
        "$ref": "./group_openvpn_server.json#/components/schemas/OpenvpnServerCreateRequest"
      },
      "OpenvpnServerUpdateRequest": {
        "$ref": "./group_openvpn_server.json#/components/schemas/OpenvpnServerUpdateRequest"
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT authentication token"
      },
      "cookieAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "session_token",
        "description": "Session cookie authentication"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    },
    {
      "cookieAuth": []
    }
  ],
  "externalDocs": {
    "description": "Find more information about AdminRadius Infrastructure Service",
    "url": "https://docs.adminradius.com/infrastructure"
  },
  "x-readme": {
    "description": "This API follows RESTful principles and returns responses in a consistent JSON format. All endpoints support the x-request-id header for request tracing. The API uses UUID v4 for all resource identifiers. Input sanitization and XSS protection are automatically applied to all string inputs.",
    "notes": [
      "All timestamps are in UTC and follow ISO 8601 format",
      "UUID format validation is enforced on all identifier fields",
      "Numeric coordinates (latitude/longitude) are validated within valid ranges",
      "All endpoints include optional request_id in responses for debugging",
      "Error responses include detailed validation messages in the errors array"
    ]
  }
}
